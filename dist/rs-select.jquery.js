"use strict";$.fn.rsSelect=function(e){return"object"!=typeof e&&e?$.fn.rsSelect.methods[e]?$.fn.rsSelect.methods[e].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+e+" does not exist on jQuery.rsSelect"):$.fn.rsSelect.methods.init.apply(this,arguments)},$.fn.rsSelect.methods={init:function(e){function t(e,t,n,a){var l=$(d.wrap.element,d.wrap.attrs);d.wrap.copyClasses===!0&&l.addClass(e.attr("class")),a?l.addClass(d.disabledClass):l.removeClass(d.disabledClass),n?l.addClass(d.multipleClass):l.removeClass(d.multipleClass);var i=$(d.header.element,d.header.attrs);l.append(i);var o=$(d.toggle.element,d.toggle.attrs);o.html(s(t,o)),i.append(o);var c=$(d.list.element,d.list.attrs).hide();return t.each(function(){var e=$(this),t=$(d.item.element,d.item.attrs);d.item.copyClasses===!0&&t.addClass(e.attr("class")),"undefined"!=typeof e.attr("disabled")?t.addClass(d.disabledClass):t.removeClass(d.disabledClass),"undefined"!=typeof e.attr("selected")?t.addClass(d.selectedClass):t.removeClass(d.selectedClass),t.html(r(e,t)),c.append(t)}),l.append(c),i.wrapInner(d.header.wrapInner),c.wrapInner(d.list.wrapInner),l.wrapInner(d.wrap.wrapInner),l.insertAfter(e),l}function s(e,t){var s="",r=e.filter("[selected]");return r.each(function(e){var t=$(this);e>0&&(s+=d.toggle.separator),s+=t.text()}),d.toggle.content(s,t)}function r(e,t){var s=e.text();return d.item.content(s,t)}function n(e,t){e.each(function(){var s=$(this),r=e.index(s);s.hasClass(d.selectedClass)?t.eq(r).prop("selected",!0).attr("selected",""):t.eq(r).prop("selected",!1).removeAttr("selected")})}function a(e){e.on("click.rsSelect-item",function(){var e=$(this),t=e.closest("."+d.wrap.attrs.class),r=t.find("."+d.toggle.attrs.class),a=t.find("."+d.list.attrs.class),l=a.find("."+d.item.attrs.class),i=$(t[0].rsSelectSelect),c=i.find("option"),f=t.hasClass(d.disabledClass)||e.hasClass(d.disabledClass),p=t.hasClass(d.multipleClass),u=e.hasClass(d.selectedClass);if(f)return!1;if("function"==typeof d.beforeChange&&d.beforeChange(t,i)===!1)return!1;if("function"==typeof i.triggerHandler&&i.triggerHandler("rsSelect.beforeChange",[t,i])===!1)return!1;var C=!1;return u?p&&l.filter("."+d.selectedClass).length>1&&(e.removeClass(d.selectedClass),C=!0):(p||l.removeClass(d.selectedClass),e.addClass(d.selectedClass),C=!0),n(l,c),r.html(s(c,r)),p||o(a),"function"==typeof d.afterChange&&d.afterChange(t,i,C),"function"==typeof i.triggerHandler&&i.triggerHandler("rsSelect.afterChange",[t,i,C]),!1})}function l(e){e.on("click.rsSelect-toggle",function(){var e=$(this),t=e.closest("."+d.wrap.attrs.class),s=t.find("."+d.list.attrs.class);s.is(":visible")?o(s):i(s)})}function i(e){var t=e.closest("."+d.wrap.attrs.class),s=$(t[0].rsSelectSelect),r="undefined"!=typeof $.easing[d.easing]&&d.easing;if(d.upClass){var n=$(window),a=n.height(),l=n.scrollTop(),i=a+l;t.removeClass(d.upClass),e.show();var c=e.outerHeight(),f=e.offset().top,p=c+f;e.hide(),p>i&&t.addClass(d.upClass)}return("function"!=typeof d.beforeOpen||d.beforeOpen(t,s)!==!1)&&(("function"!=typeof s.triggerHandler||s.triggerHandler("rsSelect.beforeOpen",[t,s])!==!1)&&(t.addClass(d.expandedClass),void e.stop(!0,!1).slideDown(d.speed,r,function(){d.autoClose===!0&&d.autoClose===!0&&$(document).on("click.rsSelect-autoclose",function(s){0===$(s.target).closest(t[0]).length&&o(e)}),"function"==typeof d.afterOpen&&d.afterOpen(t,s),"function"==typeof s.triggerHandler&&s.triggerHandler("rsSelect.afterOpen",[t,s])})))}function o(e){var t=e.closest("."+d.wrap.attrs.class),s=$(t[0].rsSelectSelect),r="undefined"!=typeof $.easing[d.easing]&&d.easing;return("function"!=typeof d.beforeClose||d.beforeClose(t,s)!==!1)&&(("function"!=typeof s.triggerHandler||s.triggerHandler("rsSelect.beforeClose",[t,s])!==!1)&&(d.autoClose===!0&&$(document).unbind("click.rsSelect-autoclose"),void e.stop(!0,!1).slideUp(d.speed,r,function(){t.removeClass(d.expandedClass),"function"==typeof d.afterClose&&d.afterClose(t,s),"function"==typeof s.triggerHandler&&s.triggerHandler("rsSelect.afterClose",[t,s])})))}var d=$.extend(!0,{},$.fn.rsSelect.defaults,e);return d.extended=!0,this.each(function(){var e=$(this).hide();if(e.is("select")){"undefined"!=typeof e[0].rsSelectDropdown&&($(e[0].rsSelectDropdown).remove(),delete e[0].rsSelectDropdown,delete e[0].rsSelectSettings);var s=e.find("option"),r="undefined"!=typeof e.attr("multiple"),n="undefined"!=typeof e.attr("disabled");!r&&s.filter("[selected]").length<1&&s.filter(":first").prop("selected",!0).attr("selected","");var i=t(e,s,r,n);i[0].rsSelectSettings=d,i[0].rsSelectSelect=e[0],e[0].rsSelectDropdown=i[0],e[0].rsSelectSettings=d;var o=i.find("."+d.list.attrs.class+" ."+d.item.attrs.class);a(o);var c=i.find("."+d.header.attrs.class+" ."+d.toggle.attrs.class);l(c)}})},destroy:function(){return this.each(function(){var e=$(this);e.is("select")&&"undefined"!=typeof e[0].rsSelectDropdown&&($(e[0].rsSelectDropdown).remove(),delete e[0].rsSelectDropdown,delete e[0].rsSelectSettings,e.css("display",""))})},reinit:function(){return this.each(function(){var e=$(this);if(e.is("select"))return"undefined"!=typeof e[0].rsSelectSettings?e.rsSelect(e[0].rsSelectSettings):void 0})}},$.fn.rsSelect.defaults={disabledClass:"disabled",selectedClass:"selected",expandedClass:"expanded",multipleClass:"multiple",speed:400,easing:"easeInOutQuad",autoClose:!0,upClass:"dropdown-up",wrap:{element:"<div>",attrs:{class:"dropdown",title:"Select option/s"},copyClasses:!0,wrapInner:'<div class="test-wrap-wrap"></div>'},header:{element:"<div>",attrs:{class:"dd-select"},wrapInner:'<div class="test-header-wrap"></div>'},list:{element:"<div>",attrs:{class:"dd-options"},wrapInner:'<div class="test-list-wrap"></div>'},toggle:{element:"<div>",attrs:{class:"dd-btn"},content:function(e,t){return e||(e="&nbsp"),'<span class="dd-current">'+e+'</span><span class="dd-arrow"></span>'},separator:", "},item:{element:"<div>",attrs:{class:"dd-item"},content:function(e,t){return e||(e="&nbsp"),'<span class="dd-item-text">'+e+"</span>"},copyClasses:!0},beforeChange:function(e,t){},afterChange:function(e,t,s){},beforeOpen:function(e,t){},beforeClose:function(e,t){},afterOpen:function(e,t){},afterClose:function(e,t){}};